<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title></title>
    <script src="js/p5.js"></script>
    <script src="js/p5.dom.js"></script>
    <script src="js/p5.sound.js"></script>
    <script type="text/lua">
      local p5 = window

      local n, s, r, mx, my

      function p5.setup()
        p5:createCanvas(p5.windowWidth, p5.windowHeight)
        p5:background(0)
      end

      function p5.draw()
        n = p5.frameCount * .01
        s = p5.width / 3 + p5.width / 3 * math.sin(n)
        r = p5.width / 100
        p5:blendMode(p5.BLEND)
        p5:fill(0, 10)
        p5:rect(0, 0, p5.width, p5.height)
        p5:blendMode(p5.ADD)
        p5:stroke(20 + math.cos(n * 1.5) * 20, 20 + math.sin(n) * 20, 20 + math.tan(n) * 20)
        p5:beginShape()
          for i = 0, 99 do
            mx = p5.mouseX + math.tan(i * .1 + n) * s
            my = p5.mouseY + math.tan(i * .1 + n) * s
            p5:curveVertex(mx, -s * .5 + s + i * r)
            p5:curveVertex(mx, my)
            p5:curveVertex(my, mx)
            p5:curveVertex(-s + .5 + s + i * r, my)
          end
        p5:endShape()
      end
    </script>
  </head>
  <body style="background:black;"></body>
  <script src="js/starlight.js" data-run-script-tags></script>
</html>
